<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>HFMonitor: HFMonitor</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li id="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<h1>HFMonitor</h1>
<p>
<h3 align="center">version:418M cmayer 2014-07-04 09:47:12 +0200 </h3><h2><a class="anchor" name="install_sec">
Installation</a></h2>
<h3><a class="anchor" name="pre_sec">
Pre-requisites</a></h3>
<ul>
<li>C++ compiler, cmake, make</li><li>FFTW3</li><li>libusb-1.0</li><li>portaudio</li><li>bzip2</li><li>CUDA (optional)</li></ul>
<h3><a class="anchor" name="get_sec">
Obtaining the source code</a></h3>
<div class="fragment"><pre class="fragment">svn co http:<span class="comment">//nz23-18.ifj.edu.pl/repos/tags/HFMonitor_vX.X HFMonitor_vX.X</span>
</pre></div> <h3><a class="anchor" name="make_sec">
Compilation</a></h3>
<div class="fragment"><pre class="fragment">mkdir objdir;
cd objdir
cmake ../
make -j4 install
make Docs
</pre></div><h2><a class="anchor" name="expl_sec">
General remarks</a></h2>
<ul>
<li>All programs are installed in the <code></code>./bin/ directory</li><li>Each program is configured using command-line parameters and a XML-formatted configuration file</li><li>All configuration files are in <code></code>./config/</li></ul>
<h2><a class="anchor" name="op_sec">
Operation</a></h2>
All following commands should be executed in the main directory. <h3><a class="anchor" name="start_sec">
Start</a></h3>
<div class="fragment"><pre class="fragment">./start.sh
</pre></div> <h3><a class="anchor" name="stop_sec">
Stop</a></h3>
<div class="fragment"><pre class="fragment">./stop.sh
</pre></div> <h3><a class="anchor" name="check_sec">
Check if software is runnning</a></h3>
<div class="fragment"><pre class="fragment">./check_running.sh
</pre></div> <h3><a class="anchor" name="spec_display_sec">
Spectrum display</a></h3>
<div class="fragment"><pre class="fragment">./display_spec.sh &lt;EFR|DCF77|MSF|NavyMSK&gt;
</pre></div> <h3><a class="anchor" name="check_xml_sec">
Check if XML configuration files are vaild</a></h3>
<div class="fragment"><pre class="fragment">./check_xml.sh
</pre></div><h2><a class="anchor" name="crontab_sec">
crontab setup</a></h2>
The following entries need to be adapted for each monitoring station <div class="fragment"><pre class="fragment"><span class="preprocessor"># remove old log files</span>
<span class="preprocessor"></span> 10 2 * * * find ~chm/C++/HFMonitor_new/Log -name <span class="stringliteral">"*.log"</span> -mtime +1 -exec rm {} \; &gt;&gt; ~chm/C++/HFMonitor_new/logremove.log 2&gt;&amp;1

<span class="preprocessor"># execut check_running.sh every minute</span>
<span class="preprocessor"></span> * * * * cd ~chm/C++/HFMonitor_new; ./check_running.sh &gt; /dev/null

<span class="preprocessor"># compress data older than one day</span>
<span class="preprocessor"> 20 1 * * * find ~chm/C++/HFMonitor_new/DataKRK -name "*.txt" -mtime +1 -exec bzip2 {} \;</span>
</pre></div><h2><a class="anchor" name="code_guide_sec">
Guide to the source code</a></h2>
<h3><a class="anchor" name="over_sec">
Overview</a></h3>
HFMonitor contains a C++ framework:<ul>
<li>all processors derive from <a class="el" href="classprocessor_1_1base.html">processor::base</a></li><li>different processing steps are de-coupled using TPC/IP datastreams (using <a href="http://www.boost.org/doc/libs/1_55_0/doc/html/boost_asio.html">Boost.Asio</a>)</li><li>data stream format: <a class="el" href="namespacenetwork_1_1protocol.html">network::protocol</a></li><li>base class for all clients: <a class="el" href="classnetwork_1_1client_1_1client__base.html">network::client::client_base</a></li><li>broadcaster: <a class="el" href="classnetwork_1_1broadcaster_1_1broadcaster.html">network::broadcaster::broadcaster</a></li><li>log output: <code></code>./Log directory</li><li>log levels: <a class="el" href="logging_8hpp.html#b05a2484ce711250ef0c40a930044a6a">LOG_INFO</a>, <a class="el" href="logging_8hpp.html#a38fb4861cc73bc77a059e6d5fdb5fa5">LOG_STATUS</a>, <a class="el" href="logging_8hpp.html#fd7aa6b04a506a700cab51e76673dedb">LOG_WARNING</a>, <a class="el" href="logging_8hpp.html#b37d13a9bc84786f0011a26e76465f68">LOG_ERROR</a> (using <a href="http://www.boost.org/doc/libs/1_55_0/libs/log/doc/html/index.html">Boost.Logging</a>)</li></ul>
<h3><a class="anchor" name="e_a_p">
Executables and processors (algorithms)</a></h3>
<ul>
<li><a class="el" href="group__executables.html">Executables</a></li><li><a class="el" href="group__processors.html">Processors</a> </li></ul>
<hr size="1"><address style="align: right;"><small>Generated on 4 Jul 2014 for HFMonitor by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
